# ==============================================================================
# Edge Platform — Environment Variables
# ==============================================================================
# Copy to .env and fill in your values.
# Variables marked [REQUIRED] must be set for the platform to function.
# Variables marked [OPTIONAL] enhance features but have fallbacks.
# ==============================================================================

# ─── Core ─────────────────────────────────────────────────────────────────────

# [REQUIRED] Environment mode
ENVIRONMENT=production

# [REQUIRED] Server port (Railway sets this automatically)
PORT=8000

# [REQUIRED] CORS — comma-separated allowed origins
ALLOWED_ORIGINS=https://demo.edgeadvisors.ai,https://www.edgeadvisors.ai

# ─── AI / LLM ────────────────────────────────────────────────────────────────

# [REQUIRED] OpenAI — powers AI chat, portfolio analysis, meeting prep, narratives
# Get key: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# [OPTIONAL] Override OpenAI model (default: gpt-4o-mini)
# OPENAI_MODEL=gpt-4o-mini

# [REQUIRED] Anthropic — AI models, universal parser fallback
# Get key: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=

# [OPTIONAL] Override Anthropic model (default: claude-3-5-haiku-20241022)
# ANTHROPIC_MODEL=claude-3-5-haiku-20241022

# ─── Authentication & Security ────────────────────────────────────────────────

# [REQUIRED] JWT signing key for portal auth (generate: openssl rand -hex 32)
JWT_SECRET=

# [OPTIONAL] Encryption key for sensitive data — SSN, etc. (32 bytes)
ENCRYPTION_KEY=

# ─── Database ─────────────────────────────────────────────────────────────────

# [REQUIRED] PostgreSQL async connection string
DATABASE_URL=

# [OPTIONAL] Redis for caching and session management
REDIS_URL=

# ─── P0: Market Data & Trading — Tradier ──────────────────────────────────────
# Powers: Stock Screener, real-time quotes, trading execution
# Sign up: https://developer.tradier.com/
# Free tier: delayed data. $10/mo for real-time.

# [REQUIRED for Screener] Tradier API access token
TRADIER_API_KEY=

# [OPTIONAL] Tradier account ID (required for trading)
TRADIER_ACCOUNT_ID=

# [OPTIONAL] Use sandbox for testing (default: true)
TRADIER_SANDBOX=true

# ─── P0: Account Aggregation — Plaid ─────────────────────────────────────────
# Powers: Custodian connections, positions, balances, transactions
# Sign up: https://dashboard.plaid.com/signup
# Pricing: per-connection (~$1-3/link)

# [REQUIRED for aggregation] Plaid credentials
PLAID_CLIENT_ID=
PLAID_SECRET=

# [OPTIONAL] Plaid environment: sandbox | development | production
PLAID_ENV=sandbox

# ─── P0: Billing & Payments — Stripe ─────────────────────────────────────────
# Powers: Fee collection, invoicing, AUM-based billing, payment processing
# Sign up: https://dashboard.stripe.com/register

# [REQUIRED for billing] Stripe API keys
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=

# [REQUIRED for billing] Stripe webhook secret for event handling
STRIPE_WEBHOOK_SECRET=

# ─── P1: Email Delivery — SendGrid ───────────────────────────────────────────
# Powers: Report delivery, notifications, onboarding invites, meeting reminders
# Sign up: https://signup.sendgrid.com/
# Free tier: 100 emails/day

# [REQUIRED for email] SendGrid API key
SENDGRID_API_KEY=

# [OPTIONAL] Default "from" email address
SENDGRID_FROM_EMAIL=notifications@edgeadvisors.ai

# [OPTIONAL] Default "from" name
SENDGRID_FROM_NAME=Edge Advisors

# ─── P1: Calendar Sync — Nylas ───────────────────────────────────────────────
# Powers: Google/Outlook calendar sync, meeting scheduling, email sync
# Sign up: https://dashboard.nylas.com/register

# [REQUIRED for calendar] Nylas credentials
NYLAS_CLIENT_ID=
NYLAS_CLIENT_SECRET=
NYLAS_API_KEY=

# ─── P1: Real-Time Messaging — Stream ────────────────────────────────────────
# Powers: Secure advisor-client messaging, message archiving
# Sign up: https://getstream.io/chat/trial/
# Free tier: 25 MAU

# [REQUIRED for messaging] Stream Chat credentials
STREAM_API_KEY=
STREAM_API_SECRET=

# ─── P1: Historical Market Data — Polygon.io ─────────────────────────────────
# Powers: Benchmarks, historical prices, reference data, fundamentals
# Sign up: https://polygon.io/dashboard/signup
# Free tier: 5 API calls/min. $29/mo starter.

# [OPTIONAL] Polygon API key (enhances Tradier data)
POLYGON_API_KEY=

# ─── P2: E-Signatures — DocuSign ─────────────────────────────────────────────
# Powers: Account opening docs, beneficiary change forms, compliance docs
# Sign up: https://developers.docusign.com/

# [OPTIONAL] DocuSign credentials
DOCUSIGN_INTEGRATION_KEY=
DOCUSIGN_SECRET_KEY=
DOCUSIGN_ACCOUNT_ID=

# [OPTIONAL] DocuSign environment: demo | production
DOCUSIGN_ENV=demo

# ─── P2: CRM Integration — Salesforce ────────────────────────────────────────
# Powers: Bidirectional sync of contacts, activities, pipeline deals
# Alternatives: Redtail, Wealthbox (use their respective keys below)

# [OPTIONAL] Salesforce OAuth credentials
SALESFORCE_CLIENT_ID=
SALESFORCE_CLIENT_SECRET=
SALESFORCE_INSTANCE_URL=

# [OPTIONAL] Redtail CRM API key
REDTAIL_API_KEY=
REDTAIL_USERNAME=

# [OPTIONAL] Wealthbox CRM API key
WEALTHBOX_API_KEY=

# ─── P2: SMS & Video — Twilio ────────────────────────────────────────────────
# Powers: SMS notifications, video meeting links
# Sign up: https://www.twilio.com/try-twilio

# [OPTIONAL] Twilio credentials
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ─── P2: Video Conferencing — Zoom ───────────────────────────────────────────
# Powers: Meeting links, video conferencing integration
# Sign up: https://marketplace.zoom.us/develop/create

# [OPTIONAL] Zoom OAuth credentials
ZOOM_CLIENT_ID=
ZOOM_CLIENT_SECRET=
ZOOM_ACCOUNT_ID=

# ─── P2: Document Parsing — AWS ──────────────────────────────────────────────
# Powers: Statement PDF/image OCR extraction
# Sign up: https://aws.amazon.com/textract/

# [OPTIONAL] AWS credentials for Textract
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# ─── P2: Push Notifications — Firebase ───────────────────────────────────────
# Powers: Mobile/browser push notifications

# [OPTIONAL] Firebase credentials
FIREBASE_PROJECT_ID=
FIREBASE_PRIVATE_KEY=
FIREBASE_CLIENT_EMAIL=

# ─── Multi-Custodian (Direct API) ────────────────────────────────────────────
# These are for direct institutional custodian feeds (in addition to Plaid)

# [OPTIONAL] Custodian token encryption
CUSTODIAN_ENCRYPTION_KEY=
CUSTODIAN_ENCRYPTION_SALT=

# [OPTIONAL] Schwab Advisor Services API
SCHWAB_CLIENT_ID=
SCHWAB_CLIENT_SECRET=

# [OPTIONAL] Fidelity WealthScape API
FIDELITY_CLIENT_ID=
FIDELITY_CLIENT_SECRET=

# [OPTIONAL] Pershing NetX360 API
PERSHING_API_KEY=
PERSHING_API_SECRET=
